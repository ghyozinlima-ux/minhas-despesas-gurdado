<script>
  // Formata valor em R$ 0,00
  function formatar(valor) {
    return 'R$ ' + valor.toFixed(2).replace('.', ',');
  }

  // ---- LISTA DE CAMPOS DE DESPESA (ajuste se tiver mais ou menos) ----
  const camposDespesas = [
    'aluguel',
    'agua',
    'luz',
    'cartao',
    'sogro',
    'sogra',
    'outras',
    'internet',
    'plano',
    'netflix'
  ];

  // Soma as despesas
  function atualizarDespesas() {
    let total = 0;

    camposDespesas.forEach(id => {
      const el = document.getElementById(id);
      if (!el) return; // se não existir, ignora
      const v = parseFloat((el.value || '0').replace(',', '.')) || 0;
      total += v;
    });

    document.getElementById('totalDespesas').textContent = formatar(total);
    atualizarSaldoFinal(); // recalcula o saldo
  }

  // Soma os salários
  function atualizarSalarios() {
    const meuEl = document.getElementById('salarioMeu');
    const esposaEl = document.getElementById('salarioEsposa');

    const meu = parseFloat(((meuEl && meuEl.value) || '0').replace(',', '.')) || 0;
    const esposa = parseFloat(((esposaEl && esposaEl.value) || '0').replace(',', '.')) || 0;

    const total = meu + esposa;
    document.getElementById('totalSalarios').textContent = formatar(total);
    atualizarSaldoFinal(); // recalcula o saldo
  }

  // Calcula saldo final = salários - despesas
  function atualizarSaldoFinal() {
    const totalSalariosTexto = document.getElementById('totalSalarios').textContent;
    const totalDespesasTexto = document.getElementById('totalDespesas').textContent;

    const totalSalarios = parseFloat(totalSalariosTexto.replace('R$','').replace('.','').replace(',','.')) || 0;
    const totalDespesas = parseFloat(totalDespesasTexto.replace('R$','').replace('.','').replace(',','.')) || 0;

    const saldo = totalSalarios - totalDespesas;
    document.getElementById('saldoFinal').textContent = formatar(saldo);
  }

  // Quando a página carregar, ligar os eventos
  window.addEventListener('load', function () {
    // liga nos campos de despesa
    camposDespesas.forEach(id => {
      const el = document.getElementById(id);
      if (el) {
        el.addEventListener('input', atualizarDespesas);
      }
    });

    // liga nos campos de salário
    ['salarioMeu', 'salarioEsposa'].forEach(id => {
      const el = document.getElementById(id);
      if (el) {
        el.addEventListener('input', atualizarSalarios);
      }
    });

    // inicializa tudo em 0
    atualizarDespesas();
    atualizarSalarios();
  });
</script>
<button type="button" onclick="atualizarDespesas(); atualizarSalarios();">
  Calcular
</button>
